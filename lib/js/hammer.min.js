/*! Hammer.JS - v1.0.3dev - 2013-02-28
 * http://eightmedia.github.com/hammer.js
 *
 * Copyright (c) 2013 Jorik Tangelder <j.tangelder@gmail.com>;
 * Licensed under the MIT license */
(function(B){var v=function(M,L){return new v.Instance(M,L||{})};v.defaults={stop_browser_behavior:{userSelect:"none",touchCallout:"none",touchAction:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};v.HAS_POINTEREVENTS=navigator.msPointerEnabled;v.HAS_TOUCHEVENTS=("ontouchstart" in B);v.EVENT_TYPES={};v.DIRECTION_DOWN="down";v.DIRECTION_LEFT="left";v.DIRECTION_UP="up";v.DIRECTION_RIGHT="right";v.POINTER_MOUSE="mouse";v.POINTER_TOUCH="touch";v.EVENT_START="start";v.EVENT_MOVE="move";v.EVENT_END="end";v.STOP_MOUSEEVENTS=true;v.plugins={};v.READY=false;function d(){if(v.READY){return}v.event.determineEventTypes();for(var L in v.gestures){if(v.gestures.hasOwnProperty(L)){v.detection.register(v.gestures[L])}}v.event.onTouch(document,v.EVENT_MOVE,v.detection.detect);v.event.onTouch(document,v.EVENT_END,v.detection.endDetect);v.READY=true}v.Instance=function(N,M){var L=this;d();this.element=N;this.enabled=true;this.options=v.utils.extend(v.utils.extend({},v.defaults),M||{});if(this.options.stop_browser_behavior){v.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior)}v.event.onTouch(N,v.EVENT_START,function(O){if(L.enabled){v.detection.startDetect(L,O)}});return this};v.Instance.prototype={on:function C(M,N){var O=M.split(" ");for(var L=0;L<O.length;L++){this.element.addEventListener(O[L],N,false)}return this},off:function m(M,N){var O=M.split(" ");for(var L=0;L<O.length;L++){this.element.removeEventListener(O[L],N,false)}return this},trigger:function G(L,N){var M=document.createEvent("Event");M.initEvent(L,true,true);M.gesture=N;this.element.dispatchEvent(M);return this},enable:function c(L){this.enabled=L;return this}};var F=null;var j=false;var g=false;v.event={bindDom:function(N,P,O){var M=P.split(" ");for(var L=0;L<M.length;L++){N.addEventListener(M[L],O,false)}},onTouch:function y(N,M,O){var L=this;this.bindDom(N,v.EVENT_TYPES[M],function(P){var Q=P.type.toLowerCase();if(Q.match(/mouse/)&&v.STOP_MOUSEEVENTS){return}if(Q.match(/start|down|move/)&&(P.which===1||Q.match(/touch/)||(P.pointerType&&P.pointerType==P.MSPOINTER_TYPE_TOUCH))){j=true}if(Q.match(/touch|pointer/)){g=true}if(j&&!(g&&Q.match(/mouse/))){if(v.HAS_POINTEREVENTS&&M!=v.EVENT_END){v.PointerEvent.updatePointer(M,P)}if(M===v.EVENT_END&&F!==null){P=F}else{F=P}O.call(v.detection,L.collectEventData(N,M,P));if(v.HAS_POINTEREVENTS&&M==v.EVENT_END){v.PointerEvent.updatePointer(M,P)}}if(Q.match(/up|cancel|end/)){j=false;g=false;F=null;v.PointerEvent.reset()}})},determineEventTypes:function E(){var L;if(v.HAS_POINTEREVENTS){L=["MSPointerDown","MSPointerMove","MSPointerUp MSPointerCancel"]}else{L=["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"]}v.EVENT_TYPES[v.EVENT_START]=L[0];v.EVENT_TYPES[v.EVENT_MOVE]=L[1];v.EVENT_TYPES[v.EVENT_END]=L[2]},getTouchList:function r(L){if(v.HAS_POINTEREVENTS){return v.PointerEvent.getTouchList()}else{if(L.touches){return L.touches}else{return[{identifier:1,pageX:L.pageX,pageY:L.pageY,target:L.target}]}}},collectEventData:function J(N,M,O){var P=this.getTouchList(O,M);var L=v.POINTER_TOUCH;if(O.type.match(/mouse/)||(O.poinerType&&O.pointerType===O.MSPOINTER_TYPE_MOUSE)){L=v.POINTER_MOUSE}return{center:v.utils.getCenter(P),timestamp:O.timestamp||new Date().getTime(),target:O.target,touches:P,eventType:M,pointerType:L,srcEvent:O,preventDefault:function(){if(this.srcEvent.preventManipulation){this.srcEvent.preventManipulation()}if(this.srcEvent.preventDefault){this.srcEvent.preventDefault()}},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return v.detection.stopDetect()}}}};v.PointerEvent={pointers:{},getTouchList:function(){var L=this.pointers;var M=[];Object.keys(L).sort().forEach(function(N){M.push(L[N])});return M},updatePointer:function(M,L){if(M==v.EVENT_END){delete this.pointers[L.pointerId]}else{L.identifier=L.pointerId;this.pointers[L.pointerId]=L}},reset:function(){this.pointers={}}};v.utils={extend:function h(L,N){for(var M in N){L[M]=N[M]}return L},getCenter:function w(O){var P=[],N=[];for(var M=0,L=O.length;M<L;M++){P.push(O[M].pageX);N.push(O[M].pageY)}return{pageX:((Math.min.apply(Math,P)+Math.max.apply(Math,P))/2),pageY:((Math.min.apply(Math,N)+Math.max.apply(Math,N))/2)}},getVelocity:function n(L,N,M){return{x:Math.abs(N/L)||0,y:Math.abs(M/L)||0}},getAngle:function l(N,M){var O=M.pageY-N.pageY,L=M.pageX-N.pageX;return Math.atan2(O,L)*180/Math.PI},getDirection:function i(N,M){var L=Math.abs(N.pageX-M.pageX),O=Math.abs(N.pageY-M.pageY);if(L>=O){return N.pageX-M.pageX>0?v.DIRECTION_LEFT:v.DIRECTION_RIGHT}else{return N.pageY-M.pageY>0?v.DIRECTION_UP:v.DIRECTION_DOWN}},getDistance:function k(N,M){var L=M.pageX-N.pageX,O=M.pageY-N.pageY;return Math.sqrt((L*L)+(O*O))},getScale:function u(M,L){if(M.length>=2&&L.length>=2){return this.getDistance(L[0],L[1])/this.getDistance(M[0],M[1])}return 1},getRotation:function s(M,L){if(M.length>=2&&L.length>=2){return this.getAngle(L[1],L[0])-this.getAngle(M[1],M[0])}return 0},isVertical:function z(L){return(L==v.DIRECTION_UP||L==v.DIRECTION_DOWN)},stopDefaultBrowserBehavior:function b(N,M){var Q,P=["webkit","khtml","moz","ms","o",""];if(!M||!N.style){return}for(var L=0;L<P.length;L++){for(var O in M){if(M.hasOwnProperty(O)){Q=O;if(P[L]){Q=P[L]+Q.substring(0,1).toUpperCase()+Q.substring(1)}N.style[Q]=M[O]}}}if(M.userSelect=="none"){N.onselectstart=function(){return false}}}};v.detection={gestures:[],current:null,previous:null,stopped:false,startDetect:function x(M,L){if(this.current){return}this.stopped=false;this.current={inst:M,startEvent:v.utils.extend({},L),lastEvent:false,name:""};this.detect(L)},detect:function p(O){if(!this.current||this.stopped){return}O=this.extendEventData(O);var P=this.current.inst.options;for(var N=0,L=this.gestures.length;N<L;N++){var M=this.gestures[N];if(!this.stopped&&P[M.name]!==false){if(M.handler.call(M,O,this.current.inst)===false){this.stopDetect();break}}}if(this.current){this.current.lastEvent=O}},endDetect:function A(L){this.detect(L);this.stopDetect()},stopDetect:function a(){this.previous=v.utils.extend({},this.current);this.current=null;this.stopped=true},extendEventData:function t(P){var Q=this.current.startEvent;if(Q&&(P.touches.length!=Q.touches.length||P.touches===Q.touches)){Q.touches=[];for(var N=0,L=P.touches.length;N<L;N++){Q.touches.push(v.utils.extend({},P.touches[N]))}}var M=P.timestamp-Q.timestamp,S=P.center.pageX-Q.center.pageX,R=P.center.pageY-Q.center.pageY,O=v.utils.getVelocity(M,S,R);v.utils.extend(P,{deltaTime:M,deltaX:S,deltaY:R,velocityX:O.x,velocityY:O.y,distance:v.utils.getDistance(Q.center,P.center),angle:v.utils.getAngle(Q.center,P.center),direction:v.utils.getDirection(Q.center,P.center),scale:v.utils.getScale(Q.touches,P.touches),rotation:v.utils.getRotation(Q.touches,P.touches),startEvent:Q});return P},register:function e(M){var L=M.defaults||{};if(typeof(L[M.name])=="undefined"){L[M.name]=true}v.utils.extend(v.defaults,L);M.index=M.index||1000;this.gestures.push(M);this.gestures.sort(function(O,N){if(O.index<N.index){return -1}if(O.index>N.index){return 1}return 0});return this.gestures}};v.gestures=v.gestures||{};v.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function I(L,M){switch(L.eventType){case v.EVENT_START:clearTimeout(this.timer);v.detection.current.name=this.name;this.timer=setTimeout(function(){if(v.detection.current.name=="hold"){M.trigger("hold",L)}},M.options.hold_timeout);break;case v.EVENT_MOVE:if(L.distance>M.options.hold_threshold){clearTimeout(this.timer)}break;case v.EVENT_END:clearTimeout(this.timer);break}}};v.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,doubletap_distance:20,doubletap_interval:300},handler:function D(M,N){if(M.eventType==v.EVENT_END){var L=v.detection.previous;if(M.deltaTime>N.options.tap_max_touchtime||M.distance>N.options.tap_max_distance){return}if(L&&L.name=="tap"&&(M.timestamp-L.lastEvent.timestamp)<N.options.doubletap_interval&&M.distance<N.options.doubletap_distance){v.detection.current.name="doubletap"}else{v.detection.current.name="tap"}N.trigger(v.detection.current.name,M)}}};v.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_max_touches:1,swipe_velocity:0.7},handler:function K(L,M){if(L.eventType==v.EVENT_END){if(M.options.swipe_max_touches>0&&L.touches.length>M.options.swipe_max_touches){return}if(L.velocityX>M.options.swipe_velocity||L.velocityY>M.options.swipe_velocity){M.trigger(this.name,L);M.trigger(this.name+L.direction,L)}}}};v.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,drag_max_touches:1,drag_block_horizontal:false,drag_block_vertical:false,drag_lock_to_axis:false},triggered:false,handler:function q(L,M){if(v.detection.current.name!=this.name&&this.triggered){M.trigger(this.name+"end",L);this.triggered=false;return}if(M.options.drag_max_touches>0&&L.touches.length>M.options.drag_max_touches){return}switch(L.eventType){case v.EVENT_START:this.triggered=false;break;case v.EVENT_MOVE:if(L.distance<M.options.drag_min_distance&&v.detection.current.name!=this.name){return}v.detection.current.name=this.name;var N=v.detection.current.lastEvent.direction;if(M.options.drag_lock_to_axis&&N!==L.direction){if(v.utils.isVertical(N)){L.direction=(L.deltaY<0)?v.DIRECTION_UP:v.DIRECTION_DOWN}else{L.direction=(L.deltaX<0)?v.DIRECTION_LEFT:v.DIRECTION_RIGHT}}if(!this.triggered){M.trigger(this.name+"start",L);this.triggered=true}M.trigger(this.name,L);M.trigger(this.name+L.direction,L);if((M.options.drag_block_vertical&&v.utils.isVertical(L.direction))||(M.options.drag_block_horizontal&&!v.utils.isVertical(L.direction))){L.preventDefault()}break;case v.EVENT_END:if(this.triggered){M.trigger(this.name+"end",L)}this.triggered=false;break}}};v.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:0.01,transform_min_rotation:1,transform_always_block:false},triggered:false,handler:function o(N,O){if(v.detection.current.name!=this.name&&this.triggered){O.trigger(this.name+"end",N);this.triggered=false;return}if(N.touches.length<2){return}if(O.options.transform_always_block){N.preventDefault()}switch(N.eventType){case v.EVENT_START:this.triggered=false;break;case v.EVENT_MOVE:var M=Math.abs(1-N.scale);var L=Math.abs(N.rotation);if(M<O.options.transform_min_scale&&L<O.options.transform_min_rotation){return}v.detection.current.name=this.name;if(!this.triggered){O.trigger(this.name+"start",N);this.triggered=true}O.trigger(this.name,N);if(L>O.options.transform_min_rotation){O.trigger("rotate",N)}if(M>O.options.transform_min_scale){O.trigger("pinch",N);O.trigger("pinch"+((N.scale<1)?"in":"out"),N)}break;case v.EVENT_END:if(this.triggered){O.trigger(this.name+"end",N)}this.triggered=false;break}}};v.gestures.Touch={name:"touch",index:-Infinity,defaults:{prevent_default:false},handler:function f(L,M){if(M.options.prevent_default){L.preventDefault()}if(L.eventType==v.EVENT_START){M.trigger(this.name,L)}}};v.gestures.Release={name:"release",index:Infinity,handler:function H(L,M){if(L.eventType==v.EVENT_END){M.trigger(this.name,L)}}};if(typeof module==="object"&&typeof module.exports==="object"){module.exports=v}else{B.Hammer=v;if(typeof B.define==="function"&&B.define.amd){B.define("hammer",[],function(){return v})}}})(this);(function(a){if(!a){return}Hammer.event.bindDom=function(b,d,c){a(b).on(d,function(e){var f=e.originalEvent;if(!f.pageX){f.pageX=e.pageX;f.pageY=e.pageY}if(!f.target){f.target=e.target}if(f.button){f.which=f.button}if(!f.preventDefault){f.preventDefault=e.preventDefault}if(!f.stopPropagation){f.stopPropagation=e.stopPropagation}c.call(this,f)})};Hammer.Instance.prototype.on=function(b,c){return a(this.element).on(b,c)};Hammer.Instance.prototype.off=function(b,c){return a(this.element).off(b,c)};Hammer.Instance.prototype.trigger=function(b,c){return a(c.srcEvent.target).trigger({type:b,gesture:c})};a.fn.hammer=function(b){return this.each(function(){var c=a(this);var d=c.data("hammer");if(!d){c.data("hammer",Hammer(this,b||{}))}else{if(d&&b){Hammer.utils.extend(d.options,b)}}})}})(window.jQuery||false);